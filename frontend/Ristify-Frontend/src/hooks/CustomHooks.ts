import {QueryClient, QueryFunction, useMutation, useQuery, useQueryClient, UseQueryResult} from "react-query";
import {Queries} from "../constants/constants.ts";
import {AppResponse, Model, SingleResponse} from "../models/Response.ts";
import {LoginModel} from "../models/User.ts";
import {login} from "../api/Api.ts";
import {useEffect, useState} from "react";
import {MediaController, Song} from "../models/Playlist.ts";

type LoginUser = {
    username: string,
    password: string
}

type TransformerFunction = <T extends Model>(response: AppResponse) => T;

const defaultTransformer: TransformerFunction = <T extends Model>(response: AppResponse) => response.payload as T;

const useCustomQuery = <T extends Model>(
    key: string,
    queryFunction: QueryFunction<AppResponse>,
    enabledByDefault: boolean = true,
    transformFunction: TransformerFunction = defaultTransformer) => {
    const [enabledQuery, setEnabledQuery] = useState<boolean>(enabledByDefault);
    const query: UseQueryResult = useQuery<AppResponse, Error, T>({
        queryKey: key,
        queryFn: queryFunction,
        select: transformFunction,
        enabled: enabledQuery
    });

    const castedData: T = query.data as T;
    return {...query, setEnabledQuery, data: castedData};
}

const useLogin = () => {
    const queryClient: QueryClient = useQueryClient();
    return useMutation({
        mutationKey: Queries.LOGIN,
        mutationFn: ({username, password}: LoginUser) => login(username, password),
        onSuccess: (data: SingleResponse) => {
            const token: string = (data.payload as LoginModel).token;
            localStorage.setItem(Queries.TOKEN, token);

            return queryClient.invalidateQueries(Queries.USERS);
        }
    })
}


// TODO: logic for next song
// fetchAllSongs pt un playlist
const useMediaController = () => {
    const mockSong1: Song = {
        songName: "Humble",
        artistName: "Kendrick Lamar",
        songId: 2,
        url: "",
        albumName: "StayStrongKid",
        duration: 170,
        imageUrl: "data:image/jpeg;base64,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",
    }

    const mockSong2: Song = {
        songName: "Ferrari",
        artistName: "James Hype, Miggy Dela Rosa",
        songId: 3,
        url: "",
        albumName: "StayStrongKid",
        duration: 120,
        imageUrl: "data:image/jpeg;base64,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",
    }

    const mockSong3: Song = {
        songName: "Dark Horse",
        artistName: "Katy Perry",
        songId: 4,
        url: "",
        albumName: "StayStrongKid",
        duration: 69,
        imageUrl: "data:image/jpeg;base64,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",
    }

    const [songProgress, setSongProgress] = useState<number>(0);
    const [playing, setPlaying] = useState<boolean>(false);
    const [songsState, setSongsState] = useState({
        lastSong: mockSong1,
        currentSong: mockSong2,
        nextSong: mockSong3
    });

    useEffect(() => {
        if (playing) {
            const timeout = setTimeout(() => {
                setSongProgress(songProgress + 1);
            }, 1000)

            if (songProgress >= songsState.currentSong.duration) {
                onSkip();
            }

            return () => {
                clearTimeout(timeout);
            }
        }
    }, [songProgress, playing]);
    const onSongSlide = (newProgress: number): void => {
        setSongProgress(newProgress);
    }

    const onPlay = () => {
        setPlaying(true);
    }
    const onPause = () => {
        setPlaying(false)
    }

    const {lastSong, currentSong, nextSong} = songsState;

    const mediaController: MediaController = {
        nextSong: nextSong,
        currentSong: currentSong,
        lastSong: lastSong,
        playing: playing,
        songProgress: songProgress,
        onPlay: onPlay,
        onPause: onPause,
        onSliderChange: onSongSlide
    };

    const onBack = () => {
        setSongsState({
            lastSong: currentSong,
            currentSong: nextSong,
            nextSong: lastSong // fetch new random song from source
        })
        setSongProgress(0);
        mediaController.onPlay();
    }

    const onSkip = () => {
        setSongsState({
            lastSong: currentSong,
            currentSong: nextSong,
            nextSong: lastSong
        })
        setSongProgress(0);
        mediaController.onPlay();
    }

    return {mediaController, onBack, onSkip};
}

export {useCustomQuery, useLogin, useMediaController}